{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/TextContainer/TextContainer.js","components/Messages/CurrentMessage/CurrentMessage.js","components/Messages/Messages.js","components/InfoBar/InfoBar.js","components/Input/Input.js","App.js","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["socket","Join","useState","name","room","formData","setFormData","error","setError","ownRoom","setOwnRoom","handleSetInputValue","target","value","handleSetRoom","className","placeholder","type","onChange","checked","onClick","e","preventDefault","validate","to","TextContainer","users","role","aria-label","map","key","alt","src","onlineIcon","CurrentMessage","message","text","user","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","i","InfoBar","href","closeIcon","Input","setMessage","sendMessage","onKeyPress","event","Chat","location","useLocation","history","useHistory","setUsers","userData","setUserData","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","emit","alert","push","off","on","App","path","exact","component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.20833305.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport TextContainer from '../TextContainer/TextContainer';\nimport Messages from '../Messages/Messages';\nimport InfoBar from '../InfoBar/InfoBar';\nimport Input from '../Input/Input';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport './chat.css';\n\nlet socket;\n\nconst Chat = () => {\n    const location = useLocation();\n    const history = useHistory();\n    const [users, setUsers] = useState('');\n    const [userData, setUserData] = useState({});\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState('');\n\n    const ENDPOINT = 'https://infinite-retreat-25083.herokuapp.com/';\n\n    useEffect(() => {\n        const userData = queryString.parse(location.search);\n        setUserData(userData);\n        socket = io(ENDPOINT);\n\n        socket.emit('join', userData, error => {\n            if (error) {\n                alert(error);\n                return history.push('/');\n            }\n        });\n\n        return () => {\n            socket.emit('disconnect');\n            socket.off();\n        };\n    }, [history, ENDPOINT, location.search]);\n\n    useEffect(() => {\n        socket.on('message', message => {\n            setMessages([...messages, message]);\n        });\n\n        socket.on('roomData', ({ users }) => {\n            setUsers(users);\n        });\n    }, [messages]);\n\n    const sendMessage = event => {\n        event.preventDefault();\n\n        if (message) {\n            socket.emit('sendMessage', message, () => setMessage(''));\n        }\n    };\n\n    return (\n        <div className=\"outerContainer\">\n            <div className=\"container\">\n                <InfoBar room={userData.room} />\n                <Messages messages={messages} name={userData.name} />\n                <Input\n                    message={message}\n                    setMessage={setMessage}\n                    sendMessage={sendMessage}\n                />\n            </div>\n            <TextContainer users={users} />\n        </div>\n    );\n};\n\nexport default Chat;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './join.css';\n\nconst Join = () => {\n    const [formData, setFormData] = useState({\n        name: '',\n        room: '',\n    });\n\n    const [error, setError] = useState(false);\n    const [ownRoom, setOwnRoom] = useState(false);\n\n    const handleSetInputValue = ({ target }) => {\n        setError(false);\n        setFormData({ ...formData, [target.name]: target.value });\n    };\n\n    const handleSetRoom = ({ target }) => {\n        const room = target.name;\n        setFormData({ ...formData, room });\n    };\n\n    const validate = (e, formData) => {\n        const { name, room } = formData;\n        if (name === '' || room === '') {\n            e.preventDefault();\n            setError(true);\n        }\n    };\n\n    const createOwnRoom = ({ target }) => {\n        setOwnRoom(!ownRoom);\n        setFormData({ ...formData, room: target.value });\n    };\n\n    return (\n        <div className=\"joinOuterContainer\">\n            <div className=\"joinInnerContainer\">\n                {error ? (\n                    <span className={'button mb-20 error'}>\n                        Not correct data\n                    </span>\n                ) : (\n                    <h1 className=\"heading\">Join Chat</h1>\n                )}\n                <div>\n                    <input\n                        placeholder=\"name\"\n                        className=\"joinInput\"\n                        type=\"text\"\n                        name=\"name\"\n                        onChange={handleSetInputValue}\n                    />\n                </div>\n                <h1 className=\"heading h6\">Choose the Room</h1>\n                {!ownRoom ? (\n                    <div className=\"button checkboxes mt-20\">\n                        <label>\n                            {' '}\n                            Books\n                            <input\n                                className=\"joinInput\"\n                                type=\"checkbox\"\n                                name=\"books\"\n                                checked={formData.room === 'books'}\n                                onChange={handleSetRoom}\n                            />\n                        </label>\n                        <label>\n                            {' '}\n                            Cars\n                            <input\n                                className=\"joinInput\"\n                                type=\"checkbox\"\n                                name=\"cars\"\n                                checked={formData.room === 'cars'}\n                                onChange={handleSetRoom}\n                            />\n                        </label>\n                        <label>\n                            {' '}\n                            Life\n                            <input\n                                className=\"joinInput\"\n                                type=\"checkbox\"\n                                name=\"life\"\n                                checked={formData.room === 'life'}\n                                onChange={handleSetRoom}\n                            />\n                        </label>\n                        <label>\n                            {' '}\n                            Secret\n                            <input\n                                className=\"joinInput\"\n                                type=\"checkbox\"\n                                name=\"secret\"\n                                checked={formData.room === 'secret'}\n                                onChange={handleSetRoom}\n                            />\n                        </label>\n                    </div>\n                ) : (\n                    <div>\n                        <input\n                            placeholder=\"room\"\n                            className=\"joinInput\"\n                            type=\"text\"\n                            name=\"room\"\n                            onChange={handleSetInputValue}\n                        />\n                    </div>\n                )}\n                <>\n                    <br />\n                    <button className=\"button\" onClick={createOwnRoom}>\n                        {!ownRoom ? (\n                            <span>\n                                create own room\n                                <br />\n                                OR\n                                <br />\n                                enter room of your's companion\n                            </span>\n                        ) : (\n                            <span>choose exist room</span>\n                        )}\n                    </button>\n                </>\n                <Link\n                    onClick={e => validate(e, formData)}\n                    to={`/chat?name=${formData.name}&room=${formData.room}`}\n                >\n                    <button className={'button mt-20'} type=\"submit\">\n                        Sign In\n                    </button>\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nexport default Join;\n","import React from 'react';\n\nimport onlineIcon from '../../icons/onlineIcon.png';\n\nimport './textContainer.css';\n\nconst TextContainer = ({ users }) => (\n    <div className=\"textContainer\">\n        <div>\n            <h1>\n                Realtime Chat Application{' '}\n                <span role=\"img\" aria-label=\"emoji\">\n                    💬\n                </span>\n            </h1>\n            <h2>\n                Created with React, Express, Node and Socket.IO{' '}\n                <span role=\"img\" aria-label=\"emoji\">\n                    ❤️\n                </span>\n            </h2>\n            <h2>\n                Try it out right now!{' '}\n                <span role=\"img\" aria-label=\"emoji\">\n                    ⬅️\n                </span>\n            </h2>\n        </div>\n        {users ? (\n            <div>\n                <h1>People currently chatting:</h1>\n                <div className=\"activeContainer\">\n                    <h2>\n                        {users.map(({ name }) => (\n                            <div key={name} className=\"activeItem\">\n                                {name}\n                                <img alt=\"Online Icon\" src={onlineIcon} />\n                            </div>\n                        ))}\n                    </h2>\n                </div>\n            </div>\n        ) : null}\n    </div>\n);\n\nexport default TextContainer;\n","import React from 'react';\n\nimport './currentMessage.css';\n\nimport ReactEmoji from 'react-emoji';\n\nconst CurrentMessage = ({ message: { text, user }, name }) => {\n    let isSentByCurrentUser = false;\n    const trimmedName = name.trim().toLowerCase();\n\n    if (user === trimmedName) {\n        isSentByCurrentUser = true;\n    }\n\n    return isSentByCurrentUser ? (\n        <div className=\"messageContainer justifyEnd\">\n            <p className=\"sentText pr-10\">{trimmedName}</p>\n            <div className=\"messageBox backgroundBlue\">\n                <p className=\"messageText colorWhite\">\n                    {ReactEmoji.emojify(text)}\n                </p>\n            </div>\n        </div>\n    ) : (\n        <div className=\"messageContainer justifyStart\">\n            <div className=\"messageBox backgroundLight\">\n                <p className=\"messageText colorDark\">\n                    {ReactEmoji.emojify(text)}\n                </p>\n            </div>\n            <p className=\"sentText pl-10 \">{user}</p>\n        </div>\n    );\n};\n\nexport default CurrentMessage;\n","import React from 'react';\nimport CurrentMessage from './CurrentMessage/CurrentMessage';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport './messages.css';\n\nconst Messages = ({ messages, name }) => (\n    <ScrollToBottom className=\"messages\">\n        {messages.map((message, i) => (\n            <div key={i}>\n                <CurrentMessage message={message} name={name} />\n            </div>\n        ))}\n    </ScrollToBottom>\n);\n\nexport default Messages;\n","import React from 'react';\n\nimport onlineIcon from '../../icons/onlineIcon.png';\nimport closeIcon from '../../icons/closeIcon.png';\n\nimport './InfoBar.css';\n\nconst InfoBar = ({ room }) => (\n    <div className=\"infoBar\">\n        <div className=\"leftInnerContainer\">\n            <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n            <h3>{room}</h3>\n        </div>\n        <div className=\"rightInnerContainer\">\n            <a href=\"/\">\n                <img src={closeIcon} alt=\"close icon\" />\n            </a>\n        </div>\n    </div>\n);\n\nexport default InfoBar;\n","import React from 'react';\n\nimport './input.css';\n\nconst Input = ({ setMessage, sendMessage, message }) => (\n    <form className=\"form\">\n        <input\n            className=\"input\"\n            type=\"text\"\n            placeholder=\"Type a message...\"\n            value={message}\n            onChange={({ target: { value } }) => setMessage(value)}\n            onKeyPress={event =>\n                event.key === 'Enter' ? sendMessage(event) : null\n            }\n        />\n        <button className=\"sendButton\" onClick={e => sendMessage(e)}>\n            Send\n        </button>\n    </form>\n);\n\nexport default Input;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\n\nconst App = () => {\n    return (\n        <>\n            <Route path=\"/\" exact component={Join} />\n            <Route path=\"/chat\" component={Chat} />\n        </>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <HashRouter>\n        <App />\n    </HashRouter>,\n    document.getElementById('root'),\n);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}